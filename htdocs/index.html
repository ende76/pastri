<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>Bitspect</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="css/normalize.css">
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="css/validation.css">
		<link rel="stylesheet" href="css/input.css">
		<link rel="stylesheet" href="css/output.css">
		<link rel="stylesheet" href="css/annotation.css">
		<link rel="stylesheet" href="css/layout.css">
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->
		<h1>Bitspect</h1>
		<section id="left-column">
			<section id="input" class="clearfix">
				<h2>Input</h2>
				<div>
					<span class="error invalid">Invalid Hex Input</span>
					<textarea autofocus cols="40" id="input-hex" data-validate-pattern="^[0-9A-Fa-f\s]*$" rows="5"></textarea>
				</div>
			</section>
			<section id="output" class="clearfix">
				<div class="clearfix" id="output-hex"></div>
				<div class="clearfix" id="output-bin"></div>
			</section>
		</section>
		<section id="right-column">
			<section id="annotation" class="clearfix">
				<fieldset class="hidden" id="wbits">
					<legend>WBITS</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
1-7 bits: WBITS, a value in the range 10 - 24, encoded with
          the following variable length code (as it appears in
          the compressed data, where the bits are parsed from
          right to left):

                Value    Bit Pattern
                -----    -----------
                   10        0100001
                   11        0110001
                   12        1000001
                   13        1010001
                   14        1100001
                   15        1110001
                   16              0
                   17        0000001
                   18           0011
                   19           0101
                   20           0111
                   21           1001
                   22           1011
                   23           1101
                   24           1111

          Note that bit pattern 0010001 is invalid and must not
          be used.
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="window-size">
					<legend>Window Size</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
The size of the sliding window, which is the maximum value of any
non-dictionary reference backward distance, is given by the following
formula:

   window size = (1 << WBITS) - 16
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="islast">
					<legend>ISLAST</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
   1 bit:  ISLAST, set to 1 if this is the last meta-block
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="islastempty">
					<legend>ISLASTEMPTY</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
   1 bit:  ISLASTEMPTY, if set to 1, the meta-block is empty;
           this field is only present if ISLAST bit is set -- if
           it is 1, then the meta-block and the brotli stream ends
           at that bit, with any remaining bits in the last byte
           of the compressed stream filled with zeros (if the
           fill bits are not zero, then the stream should be
           rejected as invalid)
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="fillbits-0">
					<legend>Fill bits</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
           […]with any remaining bits in the last byte
           of the compressed stream filled with zeros (if the
           fill bits are not zero, then the stream should be
           rejected as invalid)
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="mnibbles">
					<legend>MNIBBLES</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
   2 bits: MNIBBLES, # of nibbles to represent the uncompressed
           length, encoded with the following fixed length code:

                 Value    Bit Pattern
                 -----    -----------
                     0             11
                     4             00
                     5             01
                     6             10
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="mnibbles-is-zero">
					<legend>MNIBBLES is zero</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
           If MNIBBLES is 0, the meta-block is empty, i.e. it does
           not generate any uncompressed data. In this case, the
           rest of the meta-block has the following format:
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="reserved-bit-0">
					<legend>Reserved bit</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
              1 bit:  reserved, must be zero
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="mskipbytes">
					<legend>MSKIPBYTES</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
              2 bits: MSKIPBYTES, # of bytes to represent metadata
                      length
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="mskiplen">
					<legend>MSKIPLEN</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
              MSKIPBYTES x 8 bits: MSKIPLEN - 1, where MSKIPLEN is
                      the number of metadata bytes; this field is
                      only present if MSKIPBYTES is positive,
                      otherwise MSKIPLEN is 0 (if MSKIPBYTES is
                      greater than 1, and the last byte is all
                      zeros, then the stream should be rejected
                      as invalid)
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="fillbits-1">
					<legend>Fill bits</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
              0 - 7 bits: fill bits until the next byte boundary,
                      must be all zeros
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="metadata">
					<legend>Metadata</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
              MSKIPLEN bytes of metadata, not part of the
                      uncompressed data or the sliding window
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="mlen">
					<legend>MLEN</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
   MNIBBLES x 4 bits: MLEN - 1, where MLEN is the length
           of the meta-block uncompressed data in bytes (if
           MNIBBLES is greater than 4, and the last
           nibble is all zeros, then the stream should be
           rejected as invalid)
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="is-uncompressed">
					<legend>ISUNCOMPRESSED</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
   1 bit:  ISUNCOMPRESSED, if set to 1, any bits of compressed
           data up to the next byte boundary are ignored, and
           the rest of the meta-block contains MLEN bytes of
           literal data; this field is only present if the
           ISLAST bit is not set (if the ignored bits are not
           all zeros, the stream should be rejected as invalid)
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="fillbits-2">
					<legend>Fill bits</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
           […]any bits of compressed
           data up to the next byte boundary are ignored[…]
						</pre>
					</div>
				</fieldset>
				<fieldset class="hidden" id="uncompressed-literals">
					<legend>Uncompressed literals</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<label>Value</label>
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
           […]and
           the rest of the meta-block contains MLEN bytes of
           literal data;[…]
						</pre>
					</div>
				</fieldset>

				<fieldset class="hidden" id="end-of-stream">
					<legend>End of stream</legend>
					<a href=".explanation" class="toggle"><span class="show">[+]</span><span class="hide hidden">[–]</span></a>
					<div class="result">
						<div class="value"></div>
					</div>
					<div class="explanation hidden">
						<pre>
           The stream ended as expected
						</pre>
					</div>
				</fieldset>			</section>
		</section>
		<script src="js/vendor/arbiter.js" type="text/javascript"></script>
		<script src="js/vendor/jquery-2.1.4.min.js" type="text/javascript"></script>
		<script src="js/annotation.js" type="text/javascript"></script>
		<script src="js/brotli.js" type="text/javascript"></script>
		<script src="js/columns.js" type="text/javascript"></script>
		<script src="js/output.js" type="text/javascript"></script>
		<script src="js/process-input.js" type="text/javascript"></script>
		<script src="js/shared.js" type="text/javascript"></script>
		<script src="js/toggle.js" type="text/javascript"></script>
		<script src="js/validation.js" type="text/javascript"></script>
	</body>
</html>